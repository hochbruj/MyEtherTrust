
          window.__NEXT_REGISTER_PAGE('/trusts/new', function() {
            var comp = module.exports=webpackJsonp([5],{903:function(e,t,a){e.exports=a(904)},904:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),l=r(n),u=a(59),i=r(u),s=a(33),o=r(s),c=a(21),f=r(c),d=a(22),m=r(d),h=a(34),p=r(h),g=a(35),y=r(g),v=a(0),b=r(v),w=a(53),E=a(282),S=r(E),k=a(361),M=r(k),_=a(69),F=r(_),x=a(173),L=function(e){function t(){var e,a,r,n,u=this;(0,f.default)(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return a=r=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(c))),r.state={name:"",weeklyLimit:"",beneficiary:"",errorMessage:"",loading:!1},r.onSubmit=function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,i,s,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({loading:!0,errorMessage:"",successMessage:"Please wait until transction is confirmed..."}),a=r.state,n=a.name,i=a.weeklyLimit,s=a.beneficiary,e.prev=3,e.next=6,F.default.eth.getAccounts();case 6:return o=e.sent,e.next=9,M.default.methods.createTrust(n,F.default.utils.toWei(i,"ether"),s).send({from:o[0]});case 9:x.Router.pushRoute("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),r.setState({errorMessage:e.t0.message});case 15:r.setState({loading:!1});case 16:case"end":return e.stop()}},e,u,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),n=a,(0,p.default)(r,n)}return(0,y.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this;return b.default.createElement(S.default,null,b.default.createElement(w.Message,{attached:!0,header:"Set up a new trust!",content:"Provide a name, beneficiary and weekly withdrawal limit. Only the address of the benficiary will be able to withraw money from the trust. Once the trust is set up you have to fund it with ethers."}),b.default.createElement(w.Form,{className:"attached fluid segment",onSubmit:this.onSubmit,error:!!this.state.errorMessage},b.default.createElement(w.Form.Field,null,b.default.createElement("label",null,"Name"),b.default.createElement("input",{value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),b.default.createElement(w.Form.Field,null,b.default.createElement("label",null,"Beneficiary"),b.default.createElement("input",{value:this.state.beneficiary,onChange:function(t){return e.setState({beneficiary:t.target.value})}})),b.default.createElement(w.Form.Field,null,b.default.createElement("label",null,"Weekly Withdrawal Limit"),b.default.createElement(w.Input,{label:"ether",labelPosition:"right",value:this.state.weeklyLimit,onChange:function(t){return e.setState({weeklyLimit:t.target.value})}})),b.default.createElement(w.Message,{error:!0,header:"Oops!",content:this.state.errorMessage}),b.default.createElement(w.Button,{loading:!!this.state.loading,primary:!0},"Set Up!")))}}]),t}(v.Component);t.default=L}},[903]);
            return { page: comp.default }
          })
        